# 🚀 BUYMA 자동화 프로그램 Enhanced Edition

경쟁사 상품 크롤링부터 가격 분석, 상품 업로드, 가격 수정까지 전체 프로세스를 자동화하는 통합 솔루션입니다.

## ✨ 주요 기능

### 🔍 **스마트 크롤링 시스템**
- **선택적 데이터 수집**: 이미지, 색상/사이즈 옵션 포함 여부 설정 가능
- **중복 상품 자동 제외**: URL 기준 중복 상품 자동 감지 및 건너뛰기
- **커스터마이징 가능한 지연시간**: 서버 부하 방지를 위한 유연한 딜레이 설정
- **실시간 진행률 표시**: 크롤링 진행 상황 실시간 모니터링
- **안전한 스레드 기반 처리**: UI 멈춤 없는 백그라운드 크롤링
- **고급 안정성 기능**: QUOTA_EXCEEDED 오류 방지, 자동 재시도, 메모리 최적화

### 💰 **지능형 가격 관리**
- **스레드 기반 가격 분석**: UI 반응성을 유지하면서 대량 상품 분석
- **실시간 경쟁사 최저가 분석**: 자동 가격 비교 및 제안가 계산
- **마진 기반 자동 수정**: 최소 마진 보장하면서 경쟁력 있는 가격 설정
- **브랜드별 필터링**: 특정 브랜드만 선택적으로 분석 가능
- **일괄 처리 및 개별 제어**: 전체 자동화와 세밀한 수동 제어 모두 지원

### ⭐ **주력 상품 관리**
- **즐겨찾기 시스템**: 중요 상품을 주력 상품으로 등록 및 관리
- **자동 가격 모니터링**: 주력 상품의 정기적인 가격 확인 및 조정
- **데이터 영구 저장**: JSON 기반 주력 상품 데이터 자동 저장/로드
- **실시간 상태 추적**: 각 주력 상품의 최신 상태 및 마지막 확인 시간 표시

### 🎨 **사용자 경험 개선**
- **맑은 고딕 폰트**: 전체 UI에 한글 최적화 폰트 적용
- **직관적인 액션 버튼**: 상세보기, 주력상품 추가, 바로 업로드, URL 열기
- **실시간 로그 시스템**: 모든 작업의 상세한 진행 상황 표시
- **안전한 종료 처리**: 프로그램 종료 시 모든 스레드 안전 정리

## 🎯 빠른 시작

### 1. 설치
```bash
# 저장소 클론
git clone <repository-url>
cd buyma-automation

# 의존성 설치
pip install -r requirements.txt
```

### 2. 설정
```bash
# 설정 파일 생성
cp config_template.json config.json

# config.json에서 BUYMA 계정 정보 입력
```

### 3. 실행
```bash
python buyma.py
```

### 4. 사용법

#### 📊 **상품 크롤링**
1. **크롤링 설정**:
   - 크롤링 개수: 수집할 상품 개수 설정
   - 지연시간: 서버 부하 방지를 위한 대기 시간
   - 이미지 포함: 상품 이미지 수집 여부
   - 색상/사이즈 옵션 포함: 옵션 정보 수집 여부
   - 중복 상품 제외: URL 기준 중복 상품 건너뛰기

2. **크롤링 실행**:
   - 경쟁사 URL 입력
   - **🚀 크롤링 시작** 클릭
   - 실시간 진행률 및 결과 확인

3. **액션 버튼 활용**:
   - **📋 상세보기**: 크롤링된 상품 정보 확인
   - **⭐ 주력상품 추가**: 좋은 상품을 주력 상품으로 등록
   - **📤 바로 업로드**: BUYMA에 즉시 업로드
   - **🔗 URL 열기**: 원본 상품 페이지 확인

#### 💰 **가격 관리**
1. **전체 상품 분석**:
   - **🔍 내 상품 전체 분석 & 수정** 클릭
   - 백그라운드에서 모든 상품 가격 분석
   - 경쟁사 최저가 대비 제안가 자동 계산
   - 마진 확인 후 자동 가격 수정

2. **설정 옵션**:
   - 할인 금액: 경쟁사 대비 할인할 금액
   - 최소 마진: 보장할 최소 마진 금액
   - 자동 모드: 분석 후 즉시 가격 수정 여부

#### ⭐ **주력 상품 관리**
1. **주력 상품 등록**:
   - 크롤링 결과에서 **⭐** 버튼 클릭
   - 또는 직접 상품 정보 입력

2. **일괄 가격 확인**:
   - **🚀 주력상품 가격확인 시작** 클릭
   - 모든 주력 상품의 가격 자동 확인 및 수정
   - JSON 파일로 자동 저장/로드

## 📁 파일 구조

```
buyma-automation/
├── buyma.py                 # 메인 프로그램
├── error_handler.py         # 에러 처리 모듈
├── requirements.txt         # 필요 라이브러리
├── config_template.json     # 설정 파일 템플릿
├── favorite_products.json   # 주력 상품 데이터 (자동 생성)
├── 사용자_가이드.md         # 상세 사용법
├── 설정파일_사용법.md       # 설정 파일 가이드
└── README.md               # 이 파일
```

## 🔧 시스템 요구사항

- **운영체제**: Windows 10 이상
- **Python**: 3.8 이상
- **메모리**: 4GB 이상 권장
- **브라우저**: Chrome (자동 설치됨)
- **인터넷**: 안정적인 연결 필요

## 📖 상세 문서

- [📋 사용자 가이드](사용자_가이드.md) - 전체 기능 상세 설명
- [⚙️ 설정 파일 가이드](설정파일_사용법.md) - 설정 파일 사용법

## 🛡️ 보안 및 주의사항

### 법적 주의사항
- 저작권을 준수하여 사용하세요
- BUYMA 이용약관을 반드시 확인하세요
- 개인정보 보호에 주의하세요

### 기술적 주의사항
- 적절한 딜레이 설정으로 서버 부하 방지
- 여러 프로그램 동시 실행 금지
- 정기적인 데이터 백업 권장

## 🔄 업데이트 내역

### v2.1.0 (2025-01-16) - Stability Enhancement
- **🛡️ 크롤링 안정성 대폭 강화**: QUOTA_EXCEEDED 오류 해결
- **🔧 Chrome 브라우저 최적화**: Google API 할당량 초과 방지 옵션 추가
- **🔄 재시도 로직 구현**: 브라우저 초기화 실패 시 자동 재시도 (최대 3회)
- **💾 메모리 관리 개선**: 가비지 컬렉션 및 리소스 정리 강화
- **⚠️ 오류 감지 시스템**: 심각한 오류 자동 감지 및 안전한 중단

### v2.0.0 (2025-01-16) - Enhanced Edition
- **🧵 스레드 기반 아키텍처**: UI 멈춤 현상 완전 해결
- **🎨 UI/UX 대폭 개선**: 맑은 고딕 폰트, 직관적인 액션 버튼
- **⚙️ 크롤링 설정 적용**: 이미지/옵션 포함, 중복 제외 기능 실제 적용
- **🔧 안정성 강화**: 예외 처리 개선, 안전한 종료 처리
- **📊 실시간 모니터링**: 상세한 로그 시스템, 진행률 표시

### v1.0.0 (2025-01-16)
- 초기 릴리즈
- 전체 자동화 프로세스 구현
- 에러 처리 및 세션 관리 기능 추가
- 사용자 가이드 및 설정 템플릿 제공

## 🆘 문제 해결

### 자주 발생하는 문제
1. **로그인 실패**: 계정 정보 확인
2. **크롤링 실패**: URL 및 네트워크 상태 확인
3. **세션 만료**: 자동 재로그인 기능 활용
4. **메모리 부족**: 크롤링 개수 조정
5. **UI 멈춤**: 스레드 기반으로 해결됨 (v2.0.0+)
6. **QUOTA_EXCEEDED 오류**: Chrome 최적화로 해결됨 (v2.1.0+)
7. **브라우저 갑작스런 종료**: 재시도 로직으로 해결됨 (v2.1.0+)

### 크롤링 안정성 가이드 (v2.1.0+)
- **권장 크롤링 개수**: 처음 사용 시 5-10개로 테스트
- **지연시간 설정**: 3-5초 권장 (서버 부하 방지)
- **오류 발생 시**: 프로그램 완전 재시작 후 재시도
- **메모리 모니터링**: 작업 관리자에서 메모리 사용량 확인

### 지원
- 에러 발생 시 `error_report_*.json` 파일 확인
- 로그 창의 메시지를 통한 문제 진단

## 📊 성능 최적화

### 권장 설정
- **크롤링 개수**: 20-50개 (초보자는 10개부터)
- **딜레이 시간**: 3-5초
- **재시도 횟수**: 3회
- **타임아웃**: 10-15초

### 시스템 모니터링
- CPU 사용률: 90% 이하 유지
- 메모리 사용률: 80% 이하 유지
- 실시간 모니터링 기능 활용

## 🔐 보안 기능

- 세션 자동 관리 및 재로그인
- 네트워크 오류 자동 복구
- 에러 리포트 자동 생성
- 시스템 리소스 모니터링

## 📈 확장 기능

- Excel/CSV 데이터 내보내기
- 종합 리포트 생성
- 자동 백업 및 복원
- 설정 프로필 관리

---

**⚡ 효율적인 BUYMA 운영을 위한 최고의 자동화 솔루션!**

*이 프로그램은 교육 및 연구 목적으로 제작되었습니다. 사용 시 관련 법규와 이용약관을 준수해주세요.*
