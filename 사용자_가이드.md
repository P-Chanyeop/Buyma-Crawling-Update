# BUYMA 자동화 프로그램 사용자 가이드

## 📋 목차
1. [프로그램 소개](#프로그램-소개)
2. [설치 및 설정](#설치-및-설정)
3. [기본 사용법](#기본-사용법)
4. [각 탭별 상세 기능](#각-탭별-상세-기능)
5. [문제 해결](#문제-해결)
6. [주의사항](#주의사항)

---

## 🚀 프로그램 소개

**BUYMA 자동화 프로그램**은 경쟁사 상품 크롤링부터 가격 분석, 상품 업로드, 가격 수정까지 전체 프로세스를 자동화하는 통합 솔루션입니다.

### 주요 기능
- 🔍 **경쟁사 상품 크롤링**: 경쟁사 랭킹 페이지에서 상품 정보 자동 수집
- 📤 **BUYMA 자동 업로드**: 수집된 상품을 BUYMA에 자동 등록
- 💰 **가격 분석**: 경쟁사 최저가 자동 분석 및 제안가 계산
- 🔄 **가격 자동 수정**: 설정된 할인 금액으로 가격 자동 조정
- 📊 **실시간 모니터링**: 전체 프로세스 진행 상황 실시간 추적

---

## ⚙️ 설치 및 설정

### 1. 시스템 요구사항
- **운영체제**: Windows 10 이상
- **메모리**: 4GB 이상 권장
- **저장공간**: 1GB 이상
- **인터넷**: 안정적인 인터넷 연결 필요

### 2. 프로그램 설치
1. `buyma.py` 파일을 원하는 폴더에 저장
2. 필요한 라이브러리 설치:
   ```bash
   pip install -r requirements.txt
   ```
3. Chrome 브라우저 설치 (자동화에 필요)

### 3. 초기 설정
1. 프로그램 실행: `python buyma.py`
2. **설정 탭**에서 기본 정보 입력:
   - BUYMA 이메일/비밀번호
   - 브라우저 설정
   - 타임아웃 및 재시도 설정

---

## 🎯 기본 사용법

### 빠른 시작 (대시보드 사용)
1. **📊 대시보드** 탭 선택
2. **경쟁사 URL** 입력 (예: https://www.buyma.com/r/-B5718956O1/)
3. **크롤링 개수** 설정 (권장: 20개)
4. **할인 금액** 설정 (예: 100엔)
5. **🚀 전체 프로세스 시작** 버튼 클릭

### 단계별 사용법
각 탭을 순서대로 사용하여 단계별로 진행할 수도 있습니다:
1. **크롤링** → 2. **업로드** → 3. **가격 관리** → 4. **모니터링**

---

## 📑 각 탭별 상세 기능

### 📊 대시보드 탭
**전체 자동화 프로세스를 한 번에 실행**

#### 입력 필드:
1. **경쟁사 URL**: 크롤링할 BUYMA 페이지 URL
   - 예시: `https://www.buyma.com/r/-B5718956O1/`
   - 랭킹 페이지, 검색 결과 페이지 모두 가능
2. **크롤링 개수**: 수집할 상품 개수 (1-100개)
   - 초보자 권장: 10-20개
   - 숙련자 권장: 50개 이하
3. **할인 금액**: 경쟁사 최저가에서 차감할 금액 (엔화)
   - 예시: 100엔 → 경쟁사가 10,000엔이면 9,900엔으로 설정

#### 버튼별 기능:
- **🚀 전체 프로세스 시작**: 크롤링 → 분석 → 업로드 → 가격수정을 순차 실행
- **⏹️ 프로세스 중단**: 진행 중인 작업을 안전하게 중단
- **📊 통계 새로고침**: 현재까지의 작업 통계 업데이트

#### 실시간 통계:
- **처리된 상품**: 완료된 상품 수 / 전체 상품 수
- **성공률**: 성공한 작업의 비율
- **소요 시간**: 현재까지 걸린 시간
- **예상 완료 시간**: 남은 작업 완료 예상 시간

### 🔍 크롤링 탭
**경쟁사 상품 정보 수집**

#### 입력 영역:
1. **크롤링 URL**: 수집할 페이지 주소
2. **상품 개수**: 크롤링할 상품 수량
3. **페이지 딜레이**: 페이지 로딩 대기 시간 (초)

#### 버튼별 기능:
- **🔍 크롤링 시작**: 설정된 조건으로 크롤링 실행
- **⏹️ 크롤링 중단**: 진행 중인 크롤링 중단
- **📊 Excel 저장**: 크롤링 결과를 Excel 파일로 저장
- **🗑️ 결과 지우기**: 크롤링 테이블 내용 삭제

#### 크롤링 결과 테이블:
- **상품명**: 수집된 상품의 제목
- **브랜드**: 상품 브랜드명
- **가격**: 현재 판매 가격
- **URL**: 상품 상세 페이지 링크
- **이미지**: 대표 이미지 URL
- **상태**: 크롤링 성공/실패 여부

#### 사용 팁:
- **URL 확인**: 올바른 BUYMA 페이지인지 확인
- **적정 개수**: 한 번에 너무 많이 크롤링하지 말 것
- **네트워크**: 안정적인 인터넷 연결 필요

### 💰 가격 관리 탭
**경쟁사 가격 분석 및 가격 수정**

#### 분석 방식 선택:
1. **개별 분석**: 특정 상품 하나만 분석
   - 브랜드명 + 상품명 직접 입력
   - 즉시 결과 확인 가능
2. **전체 분석**: 크롤링된 모든 상품 일괄 분석
   - 시간이 오래 걸리지만 효율적
   - 대량 처리에 적합

#### 가격 수정 모드:
- **자동 모드**: 조건 만족 시 즉시 가격 수정
  - 빠른 처리 가능
  - 신중한 설정 필요
- **수동 모드**: 사용자 확인 후 수정
  - 안전한 방식
  - 하나씩 검토 가능

#### 설정 옵션:
- **할인 금액**: 경쟁사 대비 할인할 금액
- **최소 마진**: 손실 방지용 최소 마진율
- **분석 딜레이**: 분석 간 대기 시간
- **재시도 횟수**: 실패 시 재시도 횟수

#### 결과 해석:
- **경쟁사 최저가**: 조사된 가장 낮은 가격
- **제안 가격**: 시스템이 제안하는 최적 가격
- **예상 마진**: 제안 가격 기준 예상 수익
- **권장 액션**: 가격 인상/인하/유지 권장사항

### 📤 업로드 탭
**BUYMA 상품 자동 등록**

#### 업로드 설정:
1. **이미지 설정**:
   - 최대 이미지 수: 업로드할 이미지 개수 (1-20장)
   - 이미지 포함 여부: 이미지 업로드 on/off
   - 이미지 크기 조정: 자동 리사이징 여부
2. **상품 정보 설정**:
   - 옵션 포함: 색상/사이즈 옵션 포함 여부
   - 설명 자동 생성: 상품 설명 자동 작성
   - 카테고리 자동 분류: 브랜드별 카테고리 자동 설정

#### 업로드 옵션:
- **중복 건너뛰기**: 동일 상품 중복 등록 방지
- **실패 시 재시도**: 업로드 실패 시 자동 재시도
- **배치 업로드**: 여러 상품 동시 업로드
- **업로드 딜레이**: 업로드 간 대기 시간

#### 진행 상황 모니터링:
- **업로드 진행률**: 전체 진행 상황 표시
- **성공/실패 카운트**: 실시간 결과 집계
- **에러 로그**: 실패한 상품과 원인 표시
- **예상 완료 시간**: 남은 시간 예측

#### 업로드 후 관리:
- **결과 저장**: 업로드 결과를 파일로 저장
- **실패 상품 재시도**: 실패한 상품만 다시 업로드
- **성공 상품 확인**: BUYMA에서 등록 상태 확인

### 📈 모니터링 탭
**시스템 상태 및 작업 현황 실시간 추적**

#### 시스템 모니터링:
1. **CPU 사용률**: 현재 프로세서 사용량
   - 90% 이상 시 주의 필요
   - 그래프로 실시간 표시
2. **메모리 사용률**: RAM 사용량
   - 80% 이상 시 크롤링 개수 조정 권장
   - 사용 가능한 메모리 표시
3. **네트워크 상태**: 인터넷 연결 상태
   - 연결 속도 및 안정성 표시
   - 연결 끊김 시 알림

#### 작업 현황:
- **현재 작업**: 진행 중인 작업 종류
- **처리 속도**: 분당 처리되는 상품 수
- **대기 큐**: 처리 대기 중인 작업 수
- **완료 작업**: 완료된 작업 목록

#### 에러 추적:
- **최근 에러**: 최근 발생한 에러 목록
- **에러 빈도**: 에러 발생 패턴 분석
- **해결 제안**: 에러별 해결 방법 제시
- **자동 복구**: 자동으로 해결 가능한 에러 처리

#### 성능 최적화:
- **리소스 사용량 경고**: 과부하 시 알림
- **최적화 제안**: 성능 향상 방법 제시
- **자동 조절**: 시스템 상태에 따른 자동 속도 조절

### ⭐ 주력상품 관리 탭
**핵심 상품들의 가격을 지속적으로 모니터링하고 관리**

#### 주요 기능:
- **주력상품 등록**: 중요한 상품들을 별도로 관리
- **가격 모니터링**: 경쟁사 가격 변동 추적
- **자동 가격 조정**: 경쟁력 유지를 위한 자동 가격 수정
- **성과 분석**: 주력상품별 판매 성과 추적

#### 상단 입력 영역:
1. **브랜드명 입력**: 상품의 브랜드명 입력 (예: CHANEL, LOUIS VUITTON)
2. **상품명 입력**: 구체적인 상품명 입력 (예: Classic Flap Bag)
3. **현재 가격**: 현재 판매 중인 가격 설정 (엔화 기준)

#### 버튼별 기능:

##### 🌟 주력상품 추가
- **기능**: 입력한 정보로 새로운 주력상품 등록
- **사용법**: 
  1. 브랜드명, 상품명, 현재 가격 입력
  2. 버튼 클릭하여 주력상품 목록에 추가
- **자동 기능**: 중복 상품 확인, 추가 날짜 자동 기록

##### 📥 크롤링 결과에서 추가
- **기능**: 크롤링한 상품 중에서 주력상품으로 선택 추가
- **사용법**:
  1. 먼저 크롤링 탭에서 상품 크롤링 완료
  2. 버튼 클릭하면 크롤링된 상품 목록 표시
  3. 원하는 상품 선택하여 주력상품으로 추가
- **장점**: 수동 입력 없이 빠른 등록 가능

#### 주력상품 테이블:
- **브랜드**: 상품 브랜드명
- **상품명**: 상품의 구체적인 이름
- **현재가격**: 현재 설정된 판매 가격
- **경쟁사가격**: 마지막 확인된 경쟁사 최저가
- **제안가격**: 시스템이 제안하는 최적 가격
- **상태**: 가격 수정 필요 여부 (확인 필요/수정 필요/최신 상태)
- **마지막 확인**: 가격을 마지막으로 확인한 시간
- **등록일**: 주력상품으로 등록한 날짜

#### 하단 관리 버튼들:

##### 🔍 개별 가격 확인
- **기능**: 선택한 상품 하나의 경쟁사 가격 확인
- **사용법**: 테이블에서 상품 선택 후 버튼 클릭
- **결과**: 해당 상품의 경쟁사 가격 조사 후 테이블 업데이트

##### 🔍 전체 가격 확인
- **기능**: 등록된 모든 주력상품의 가격을 일괄 확인
- **사용법**: 버튼 클릭하면 자동으로 모든 상품 가격 조사
- **소요시간**: 상품 수에 따라 몇 분 소요 가능

##### 🔄 자동 가격 수정
- **기능**: 가격 수정이 필요한 상품들을 자동으로 조정
- **조건**: "수정 필요" 상태인 상품들만 대상
- **사용법**: 
  1. 먼저 가격 확인 실행
  2. 수정이 필요한 상품 확인
  3. 버튼 클릭하여 자동 수정 실행

##### 💾 목록 저장
- **기능**: 현재 주력상품 목록을 JSON 파일로 저장
- **용도**: 백업, 다른 컴퓨터로 이동 시 사용
- **저장 위치**: 사용자가 지정한 폴더

##### 📂 목록 불러오기
- **기능**: 이전에 저장한 주력상품 목록 불러오기
- **사용법**: 저장된 JSON 파일 선택하여 로드
- **주의**: 기존 목록은 덮어쓰기됨

##### ❌ 선택 삭제
- **기능**: 테이블에서 선택한 주력상품 삭제
- **사용법**: 삭제할 상품 선택 후 버튼 클릭
- **확인**: 삭제 전 확인 메시지 표시

#### 사용 시나리오:

##### 1. 신규 주력상품 등록
```
1. 브랜드명 입력 (예: CHANEL)
2. 상품명 입력 (예: Classic Flap Bag Medium)
3. 현재 가격 입력 (예: 850000)
4. "주력상품 추가" 버튼 클릭
5. 테이블에 새 상품 추가 확인
```

##### 2. 크롤링 결과 활용
```
1. 크롤링 탭에서 경쟁사 상품 크롤링
2. 주력상품 탭으로 이동
3. "크롤링 결과에서 추가" 버튼 클릭
4. 팝업에서 원하는 상품 선택
5. 자동으로 주력상품 목록에 추가
```

##### 3. 정기적 가격 관리
```
1. "전체 가격 확인" 버튼 클릭
2. 모든 상품의 경쟁사 가격 조사 대기
3. 테이블에서 "수정 필요" 상품 확인
4. "자동 가격 수정" 버튼 클릭
5. 가격 수정 결과 확인
```

#### 팁과 권장사항:
- **정기 확인**: 주 2-3회 정도 가격 확인 권장
- **적정 개수**: 주력상품은 10-30개 정도가 관리하기 적당
- **백업**: 중요한 주력상품 목록은 정기적으로 저장
- **모니터링**: 상태 컬럼을 통해 관리가 필요한 상품 파악

### ⚙️ 설정 탭
**프로그램 전체 설정 관리**

#### 주요 설정:
- **계정 정보**: BUYMA 로그인 정보
- **브라우저 설정**: Chrome 브라우저 옵션
- **타임아웃**: 페이지 로딩 대기 시간
- **재시도 횟수**: 실패 시 재시도 횟수
- **딜레이 시간**: 요청 간 대기 시간

---

## 🔧 문제 해결

### 자주 발생하는 문제

#### 1. 로그인 실패
**증상**: "로그인 실패" 메시지 표시
**해결방법**:
- 이메일/비밀번호 정확성 확인
- BUYMA 사이트에서 직접 로그인 테스트
- 2단계 인증 설정 확인

#### 2. 크롤링 실패
**증상**: "상품 요소를 찾을 수 없습니다" 메시지
**해결방법**:
- URL이 올바른 BUYMA 페이지인지 확인
- 페이지가 완전히 로드될 때까지 대기
- 타임아웃 시간 증가 (설정 탭)

#### 3. 업로드 실패
**증상**: "업로드 실패" 상태 표시
**해결방법**:
- BUYMA 로그인 상태 확인
- 상품 정보 완성도 확인
- 네트워크 연결 상태 확인

#### 4. 주력상품 관리 문제
**증상**: "주력상품 추가 실패" 또는 가격 확인 오류
**해결방법**:
- 브랜드명과 상품명을 정확히 입력
- 특수문자나 공백 확인
- 가격은 숫자만 입력 (쉼표 제외)
- 중복 상품 등록 시도하지 않기

**증상**: "크롤링 결과에서 추가" 버튼이 작동하지 않음
**해결방법**:
- 먼저 크롤링 탭에서 상품 크롤링 완료 확인
- 크롤링 테이블에 데이터가 있는지 확인
- 프로그램 재시작 후 다시 시도

#### 5. 세션 만료
**증상**: "세션이 만료되었습니다" 메시지
**해결방법**:
- 자동으로 재로그인 시도됨
- 실패 시 수동으로 로그인 정보 재입력

#### 6. 메모리 부족
**증상**: 프로그램 느려짐 또는 중단
**해결방법**:
- 다른 프로그램 종료
- 크롤링 개수 줄이기
- 주력상품 개수 줄이기 (30개 이하 권장)
- 컴퓨터 재시작

#### 7. 가격 분석 오류
**증상**: "경쟁사 가격을 찾을 수 없습니다" 메시지
**해결방법**:
- 상품명이 정확한지 확인
- 브랜드명 철자 확인
- 해당 상품이 실제로 판매 중인지 확인
- 네트워크 연결 상태 점검

#### 8. 자동 가격 수정 실패
**증상**: "가격 수정 실패" 상태 표시
**해결방법**:
- BUYMA 로그인 상태 확인
- 해당 상품이 본인 상품인지 확인
- 가격 범위가 적절한지 확인 (너무 높거나 낮지 않은지)
- 수동 모드로 전환하여 개별 확인

### 에러 로그 확인
- 모든 에러는 프로그램 하단 로그 창에 표시됩니다
- 심각한 에러는 `error_report_날짜시간.json` 파일로 저장됩니다

---

## ⚠️ 주의사항

### 법적 주의사항
1. **저작권 준수**: 타인의 상품 이미지나 설명을 무단 사용하지 마세요
2. **BUYMA 이용약관**: BUYMA의 이용약관을 반드시 준수하세요
3. **개인정보 보호**: 로그인 정보를 안전하게 관리하세요

### 기술적 주의사항
1. **적절한 딜레이**: 서버 부하 방지를 위해 적절한 딜레이 설정
2. **동시 실행 금지**: 여러 개의 프로그램을 동시에 실행하지 마세요
3. **정기적 백업**: 중요한 데이터는 정기적으로 백업하세요

### 사용 권장사항
1. **소량 테스트**: 처음에는 소량으로 테스트 후 점진적 확대
2. **정기적 모니터링**: 작업 진행 상황을 정기적으로 확인
3. **설정 저장**: 작업 완료 후 설정을 저장하여 재사용
4. **주력상품 관리**: 
   - 주력상품은 10-30개 정도로 관리
   - 주 2-3회 정기적인 가격 확인
   - 중요한 주력상품 목록은 백업 저장
   - 계절성 상품은 시즌별로 목록 업데이트
5. **데이터 백업**: 
   - 크롤링 결과는 Excel로 저장
   - 주력상품 목록은 JSON으로 백업
   - 설정 파일도 정기적으로 백업

---

## 📞 지원 및 문의

### 기술 지원
- 에러 발생 시 생성되는 `error_report_*.json` 파일을 첨부하여 문의
- 로그 창의 내용을 캡처하여 함께 전달

### 업데이트
- 프로그램 업데이트 시 기존 설정이 유지됩니다
- 새로운 기능 추가 시 사용자 가이드도 함께 업데이트됩니다

---

## 📝 버전 정보
- **현재 버전**: v1.0.0
- **최종 업데이트**: 2025-01-16
- **호환성**: Windows 10/11, Python 3.8+

---

**⚡ 효율적인 BUYMA 운영을 위한 최고의 자동화 솔루션을 경험해보세요!**
